(self.webpackChunkol_nextjs_starter=self.webpackChunkol_nextjs_starter||[]).push([[672],{"./stories/identity/identity.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Identity:()=>identity_stories_Identity,__namedExportsOrder:()=>__namedExportsOrder,default:()=>identity_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),paper_full=__webpack_require__("./node_modules/paper/dist/paper-full.js"),paper_full_default=__webpack_require__.n(paper_full),tweakpane=__webpack_require__("./node_modules/tweakpane/dist/tweakpane.js"),FileSaver_min=__webpack_require__("./node_modules/file-saver/dist/FileSaver.min.js");const TWO_PI=2*Math.PI;function drawLine(settings,points){const line=new(paper_full_default().Path)(points);line.strokeColor=settings.color,line.strokeWidth=settings.width}function structure(settings,center,radius,innerRadius){let frontSide=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],backSide=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const startAngle=-Math.PI/6,points=[[]];for(let i=0;i<6;i++){points[i]=[];const theta=startAngle+i*(TWO_PI/6);for(let j=0;j<3;j++){const r=j*(radius/2.5),x=center.x+Math.cos(theta)*r,y=center.y+Math.sin(theta)*r,point=new(paper_full_default().Point)(x,y);points[i].push(point);{const path=paper_full_default().Path.Circle(point,innerRadius);path.strokeColor=settings.debug.color,path.strokeWidth=settings.debug.width}}}let linePoints=[];if(backSide&&(linePoints=[],linePoints.push(points[0][2]),linePoints.push(points[2][2]),linePoints.push(points[4][2]),linePoints.push(points[0][2]),drawLine(settings.icoshahedron.back,linePoints),linePoints=[],linePoints.push(points[1][1]),linePoints.push(points[3][1]),linePoints.push(points[5][1]),linePoints.push(points[1][1]),drawLine(settings.icoshahedron.back,linePoints),linePoints=[],linePoints.push(points[5][1]),linePoints.push(points[5][2]),drawLine(settings.icoshahedron.back,linePoints),linePoints=[],linePoints.push(points[1][1]),linePoints.push(points[1][2]),drawLine(settings.icoshahedron.back,linePoints),linePoints=[],linePoints.push(points[3][1]),linePoints.push(points[3][2]),drawLine(settings.icoshahedron.back,linePoints)),frontSide){linePoints=[],linePoints.push(points[5][2]),linePoints.push(points[1][2]),linePoints.push(points[3][2]),linePoints.push(points[5][2]),drawLine(settings.icoshahedron.front,linePoints),linePoints=[],linePoints.push(points[0][1]),linePoints.push(points[2][1]),linePoints.push(points[4][1]),linePoints.push(points[0][1]),drawLine(settings.icoshahedron.front,linePoints),linePoints=[],linePoints.push(points[0][1]),linePoints.push(points[0][2]),drawLine(settings.icoshahedron.front,linePoints),linePoints=[],linePoints.push(points[2][1]),linePoints.push(points[2][2]),drawLine(settings.icoshahedron.front,linePoints),linePoints=[],linePoints.push(points[4][1]),linePoints.push(points[4][2]),drawLine(settings.icoshahedron.front,linePoints),linePoints=[];for(let i=0;i<6;i++)linePoints.push(points[i][2]);linePoints.push(points[0][2]),drawLine(settings.icoshahedron.front,linePoints)}}class Identity{constructor(canvas){this.canvas=canvas,this.settings={scale:.25,creation:{width:2,alpha:1,color:new(paper_full_default().Color)(0)},stars:{width:1,alpha:1,color:new(paper_full_default().Color)(0)},realm:{width:1,alpha:.5,color:new(paper_full_default().Color)(0)},moon:{alpha:1,color:new(paper_full_default().Color)(0)},icoshahedron:{front:{width:1.5,alpha:1,color:new(paper_full_default().Color)(0)},back:{width:1.5,alpha:.5,color:new(paper_full_default().Color)(0)}},debug:{width:1,color:new(paper_full_default().Color)(1,1,1,0)}},this.draw=()=>{paper_full_default().project.activeLayer.removeChildren();const radius=paper_full_default().view.size.width*this.settings.scale,center=paper_full_default().view.bounds.center;let innerRadius=radius/3;innerRadius-=innerRadius/2.5,this.settings.creation.color.set([this.settings.creation.alpha,this.settings.creation.alpha,this.settings.creation.alpha]),this.settings.stars.color.set([this.settings.stars.alpha,this.settings.stars.alpha,this.settings.stars.alpha]),this.settings.realm.color.set([this.settings.realm.alpha,this.settings.realm.alpha,this.settings.realm.alpha]),this.settings.moon.color.set([this.settings.moon.alpha,this.settings.moon.alpha,this.settings.moon.alpha]),this.settings.icoshahedron.front.color.set([this.settings.icoshahedron.front.alpha,this.settings.icoshahedron.front.alpha,this.settings.icoshahedron.front.alpha]),this.settings.icoshahedron.back.color.set([this.settings.icoshahedron.back.alpha,this.settings.icoshahedron.back.alpha,this.settings.icoshahedron.back.alpha]),paper_full_default().view.rotate(180),structure(this.settings,center,radius/.5,innerRadius/.5,!1,!0),function creation(settings,center,radius){const path=paper_full_default().Path.Circle(center,radius);path.strokeColor=settings.creation.color,path.strokeWidth=settings.creation.width}(this.settings,center,radius),structure(this.settings,center,radius,innerRadius),function realm(settings,center,radius,innerRadius){const circle=paper_full_default().Path.Circle(center,innerRadius/2);circle.strokeColor=settings.realm.color,circle.strokeWidth=settings.realm.width}(this.settings,center,0,innerRadius),function moon(settings,center,radius,innerRadius){const points=[],theta=-Math.PI/2;for(let j=0;j<3;j++){const r=j*(radius/2.5),x=center.x+Math.cos(theta)*r,y=center.y+Math.sin(theta)*r,point=new(paper_full_default().Point)(x,y);points.push(point)}const newRadius=innerRadius/2;let p=points[2].clone().subtract(new(paper_full_default().Point)(0,1.75*newRadius));const outerPath=paper_full_default().Path.Circle(p,newRadius);outerPath.fillColor=settings.moon.color;const inset=p.clone().subtract(new(paper_full_default().Point)(0,newRadius/2)),innerPath=paper_full_default().Path.Circle(inset,1.25*newRadius);innerPath.fillColor=settings.moon.color;const result=outerPath.subtract(innerPath);result.fillColor=settings.moon.color,innerPath.remove(),outerPath.remove();const opposite=result.clone();opposite.rotate(180);const distance=result.position.clone().subtract(center);opposite.position=new(paper_full_default().Point)(center.x,center.y-distance.y)}(this.settings,center,radius,innerRadius),function stars(settings,center,radius,innerRadius){const startAngle=-Math.PI/2,newRadius=innerRadius/6;for(let i=0;i<12;i++){const theta=startAngle+i*(TWO_PI/12);for(let j=0;j<3;j++){const r=j*(radius/2.5),x=center.x+Math.cos(theta)*r,y=center.y+Math.sin(theta)*r,point=new(paper_full_default().Point)(x,y),inner=1===j&&i%2==0;(2===j||inner)&&(paper_full_default().Path.Circle(point,newRadius).fillColor=inner&&i%4==0?settings.icoshahedron.back.color:settings.stars.color);{const path=paper_full_default().Path.Circle(point,innerRadius);path.strokeColor=settings.debug.color,path.strokeWidth=settings.debug.width}}}}(this.settings,center,radius,innerRadius),structure(this.settings,center,radius/.5,innerRadius/.5,!0,!1)},this.export=()=>{!function saveImage(canvas,title){let format=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",quality=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const filename="".concat(title,"-").concat((new Date).getTime(),".").concat(format.split("/")[1]);canvas.toBlob((function(blob){blob&&(0,FileSaver_min.saveAs)(blob,filename)}),format,quality)}(this.canvas,"identity")},this.canvas=canvas,canvas.width=500,canvas.height=500,paper_full_default().setup(canvas),this.draw()}}class IdentityGUI{constructor(target){this.target=target,this.gui=new tweakpane.Zv({title:"Identity"}),this.gui.addButton({title:"Export"}).on("click",target.export),this.gui.addBinding(target.settings,"scale",{min:0,max:.5}).on("change",target.draw);const guiCreation=this.gui.addFolder({title:"creation"}),guiRealm=this.gui.addFolder({title:"realm"}),guiStars=this.gui.addFolder({title:"stars"}),guiMoon=this.gui.addFolder({title:"moon"}),guiFront=this.gui.addFolder({title:"front"}),guiBack=this.gui.addFolder({title:"back"}),guiDebug=this.gui.addFolder({title:"debug"});guiCreation.addBinding(target.settings.creation,"width",{min:0,max:5}).on("change",target.draw),guiCreation.addBinding(target.settings.creation,"alpha",{min:0,max:1}).on("change",target.draw),guiStars.addBinding(target.settings.stars,"width",{min:0,max:5}).on("change",target.draw),guiStars.addBinding(target.settings.stars,"alpha",{min:0,max:1}).on("change",target.draw),guiRealm.addBinding(target.settings.realm,"width",{min:0,max:5}).on("change",target.draw),guiRealm.addBinding(target.settings.realm,"alpha",{min:0,max:1}).on("change",target.draw),guiMoon.addBinding(target.settings.moon,"alpha",{min:0,max:1}).on("change",target.draw),guiFront.addBinding(target.settings.icoshahedron.front,"width",{min:0,max:5}).on("change",target.draw),guiFront.addBinding(target.settings.icoshahedron.front,"alpha",{min:0,max:1}).on("change",target.draw),guiBack.addBinding(target.settings.icoshahedron.back,"width",{min:0,max:5}).on("change",target.draw),guiBack.addBinding(target.settings.icoshahedron.back,"alpha",{min:0,max:1}).on("change",target.draw),guiDebug.addBinding(target.settings.debug,"width",{min:0,max:5}).on("change",target.draw),guiDebug.addBinding(target.settings.debug.color,"alpha",{min:0,max:1}).on("change",target.draw)}}var injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),identity_Identity=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js!./stories/identity/Identity.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(identity_Identity.A,options);identity_Identity.A&&identity_Identity.A.locals&&identity_Identity.A.locals;var global=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js!./stories/global.css"),global_options={};global_options.styleTagTransform=styleTagTransform_default(),global_options.setAttributes=setAttributesWithoutAttributes_default(),global_options.insert=insertBySelector_default().bind(null,"head"),global_options.domAPI=styleDomAPI_default(),global_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(global.A,global_options);global.A&&global.A.locals&&global.A.locals;var _Identity_parameters,_Identity_parameters_docs,_Identity_parameters1;const identity_stories={title:"Sketchbook/Identity"},identity_stories_Identity=()=>{const rootRef=(0,react.useRef)(null);return(0,react.useEffect)((()=>{if(rootRef.current){const identity=new Identity(rootRef.current);new IdentityGUI(identity)}return()=>{}}),[]),(0,jsx_runtime.jsx)("canvas",{ref:rootRef})};identity_stories_Identity.parameters={...identity_stories_Identity.parameters,docs:{...null===(_Identity_parameters=identity_stories_Identity.parameters)||void 0===_Identity_parameters?void 0:_Identity_parameters.docs,source:{originalSource:"() => {\n  const rootRef = useRef<HTMLCanvasElement>(null);\n  useEffect(() => {\n    if (rootRef.current) {\n      const identity = new IdentitySketch(rootRef.current);\n      const gui = new IdentityGUI(identity);\n    }\n    return () => {};\n  }, []);\n  return <canvas ref={rootRef} />;\n}",...null===(_Identity_parameters1=identity_stories_Identity.parameters)||void 0===_Identity_parameters1||null===(_Identity_parameters_docs=_Identity_parameters1.docs)||void 0===_Identity_parameters_docs?void 0:_Identity_parameters_docs.source}}};const __namedExportsOrder=["Identity"]},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js!./stories/global.css":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,":root {\n  --gui-editor-width: 400px;\n  --scrollbar-color-thumb: rgba(0, 0, 0, 0.25);\n  --scrollbar-color-track: transparent;\n  --scrollbar-width: thin;\n  --scrollbar-width-legacy: 5px;\n  --tp-base-border-radius: 0;\n\n  --tp-base-background-color: hsla(0, 0%, 0%, 1);\n  --tp-base-shadow-color: hsla(0, 0%, 0%, 0.2);\n  --tp-button-background-color: hsla(0, 0%, 70%, 1);\n  --tp-button-background-color-active: hsla(0, 0%, 85%, 1);\n  --tp-button-background-color-focus: hsla(0, 0%, 80%, 1);\n  --tp-button-background-color-hover: hsla(0, 0%, 75%, 1);\n  --tp-button-foreground-color: hsla(0, 0%, 0%, 1);\n  --tp-container-background-color: hsla(0, 0%, 10%, 1);\n  --tp-container-background-color-active: hsla(0, 0%, 25%, 1);\n  --tp-container-background-color-focus: hsla(0, 0%, 20%, 1);\n  --tp-container-background-color-hover: hsla(0, 0%, 15%, 1);\n  --tp-container-foreground-color: hsla(0, 0%, 50%, 1);\n  --tp-groove-foreground-color: hsla(0, 0%, 10%, 1);\n  --tp-input-background-color: hsla(0, 0%, 10%, 1);\n  --tp-input-background-color-active: hsla(0, 0%, 25%, 1);\n  --tp-input-background-color-focus: hsla(0, 0%, 20%, 1);\n  --tp-input-background-color-hover: hsla(0, 0%, 15%, 1);\n  --tp-input-foreground-color: hsla(0, 0%, 70%, 1);\n  --tp-label-foreground-color: hsla(0, 0%, 50%, 1);\n  --tp-monitor-background-color: hsla(0, 0%, 8%, 1);\n  --tp-monitor-foreground-color: hsla(0, 0%, 48%, 1);\n}\n","",{version:3,sources:["webpack://./stories/global.css"],names:[],mappings:"AAAA;EACE,yBAAyB;EACzB,4CAA4C;EAC5C,oCAAoC;EACpC,uBAAuB;EACvB,6BAA6B;EAC7B,0BAA0B;;EAE1B,8CAA8C;EAC9C,4CAA4C;EAC5C,iDAAiD;EACjD,wDAAwD;EACxD,uDAAuD;EACvD,uDAAuD;EACvD,gDAAgD;EAChD,oDAAoD;EACpD,2DAA2D;EAC3D,0DAA0D;EAC1D,0DAA0D;EAC1D,oDAAoD;EACpD,iDAAiD;EACjD,gDAAgD;EAChD,uDAAuD;EACvD,sDAAsD;EACtD,sDAAsD;EACtD,gDAAgD;EAChD,gDAAgD;EAChD,iDAAiD;EACjD,kDAAkD;AACpD",sourcesContent:[":root {\n  --gui-editor-width: 400px;\n  --scrollbar-color-thumb: rgba(0, 0, 0, 0.25);\n  --scrollbar-color-track: transparent;\n  --scrollbar-width: thin;\n  --scrollbar-width-legacy: 5px;\n  --tp-base-border-radius: 0;\n\n  --tp-base-background-color: hsla(0, 0%, 0%, 1);\n  --tp-base-shadow-color: hsla(0, 0%, 0%, 0.2);\n  --tp-button-background-color: hsla(0, 0%, 70%, 1);\n  --tp-button-background-color-active: hsla(0, 0%, 85%, 1);\n  --tp-button-background-color-focus: hsla(0, 0%, 80%, 1);\n  --tp-button-background-color-hover: hsla(0, 0%, 75%, 1);\n  --tp-button-foreground-color: hsla(0, 0%, 0%, 1);\n  --tp-container-background-color: hsla(0, 0%, 10%, 1);\n  --tp-container-background-color-active: hsla(0, 0%, 25%, 1);\n  --tp-container-background-color-focus: hsla(0, 0%, 20%, 1);\n  --tp-container-background-color-hover: hsla(0, 0%, 15%, 1);\n  --tp-container-foreground-color: hsla(0, 0%, 50%, 1);\n  --tp-groove-foreground-color: hsla(0, 0%, 10%, 1);\n  --tp-input-background-color: hsla(0, 0%, 10%, 1);\n  --tp-input-background-color-active: hsla(0, 0%, 25%, 1);\n  --tp-input-background-color-focus: hsla(0, 0%, 20%, 1);\n  --tp-input-background-color-hover: hsla(0, 0%, 15%, 1);\n  --tp-input-foreground-color: hsla(0, 0%, 70%, 1);\n  --tp-label-foreground-color: hsla(0, 0%, 50%, 1);\n  --tp-monitor-background-color: hsla(0, 0%, 8%, 1);\n  --tp-monitor-foreground-color: hsla(0, 0%, 48%, 1);\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js!./stories/identity/Identity.css":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"canvas {\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n}\n","",{version:3,sources:["webpack://./stories/identity/Identity.css"],names:[],mappings:"AAAA;EACE,0CAA0C;EAC1C,sBAAsB;AACxB",sourcesContent:["canvas {\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"?d469":()=>{},"?974e":()=>{}}]);